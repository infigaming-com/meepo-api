syntax = "proto3";

package api.wallet.service.v1;

import "google/api/annotations.proto";

option go_package = "github.com/infigaming-com/meepo-api/wallet/service/v1;v1";
option java_multiple_files = true;
option java_package = "api.wallet.service.v1";

service Wallet {
	rpc AddUser (AddUserRequest) returns (AddUserResponse) {}

	rpc UpdateUser (UpdateUserRequest) returns (UpdateUserResponse) {}

	rpc GetUserBalance (GetUserBalanceRequest) returns (GetUserBalanceResponse) {
		option (google.api.http) = {
			get: "/v1/wallet/balance/{user_id}"
		};
	}
}

message AddUserRequest {
	string id = 1;
	string operator_id = 2;
}

message AddUserResponse {
	string id = 1;
}

message UpdateUserRequest {
	string id = 1;
	bool enabled = 2;
}

message UpdateUserResponse {}

message GetUserBalanceRequest {
	string user_id = 1;
}

message GetUserBalanceResponse {
	message Balance {
		string currency = 1;
		int64 cash = 2;
		int64 operator_bonus = 3;
		int64 provider_bonus = 4;
	}
	repeated Balance balances = 1;
}