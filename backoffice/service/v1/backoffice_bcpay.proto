syntax = "proto3";

package api.backoffice.service.v1;

import "google/api/annotations.proto";
import "bcpay/service/v1/bcpay.proto";
import "common/common.proto";

option go_package = "github.com/infigaming-com/meepo-api/backoffice/service/v1;v1";
option java_multiple_files = true;
option java_package = "api.backoffice.service.v1";

// BackofficeBcpay service
// Provides methods for backoffice bcpay management
service BackofficeBcpay {
  
	rpc GetMerchant(GetMerchantRequest) returns (bcpay.service.v1.GetMerchantResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/merchant/get"
      body: "*"
    };
  }

	rpc CreateMerchant(CreateMerchantRequest) returns (bcpay.service.v1.CreateMerchantResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/merchant/add"
      body: "*"
    };
  }

	rpc BankAccountList(BankAccountListRequest) returns (bcpay.service.v1.BankAccountListResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/bankaccount/list"
      body: "*"
    };
	}

	rpc AddBankAccount(AddBankAccountRequest) returns (bcpay.service.v1.AddBankAccountResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/bankaccount/add"
      body: "*"
    };
	}

	rpc UpdateBankAccount(UpdateBankAccountRequest) returns (bcpay.service.v1.UpdateBankAccountResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/bankaccount/update"
      body: "*"
    };
	}

	rpc TransactionList(TransactionListRequest) returns (bcpay.service.v1.TransactionListResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/transaction/list"
      body: "*"
    };
	}

	rpc AuditTransaction(AuditTransactionRequest) returns (bcpay.service.v1.AuditTransactionResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/transaction/add"
      body: "*"
    };
	}

	rpc AddNoteToTransaction(bcpay.service.v1.AddNoteToTransactionRequest) returns (bcpay.service.v1.AddNoteToTransactionResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/transaction/note/update"
      body: "*"
    };
  }

	rpc GetBankSchema(bcpay.service.v1.GetBankSchemaRequest) returns (bcpay.service.v1.GetBankSchemaResponse) {
    option (google.api.http) = {
      post: "/v1/backoffice/bcpay/bankinfoschema/get"
      body: "*"
    };
	}
}


message GetMerchantRequest {
}

message CreateMerchantRequest {
	string name = 1;
}

message BankAccountListRequest {
	string currency = 1;
	string bank_account = 2;
	string bank_account_firstname = 3;
	string bank_account_lastname = 4;
	string card_id = 5;
  api.common.OperatorContextFilters operator_context_filters = 6;
}

message AddBankAccountRequest {
	bcpay.service.v1.DepositBankAccount bank_account = 1;
}

message UpdateBankAccountRequest {
	bcpay.service.v1.DepositBankAccount bank_account = 1;
}

message TransactionListRequest {
	string type = 1;
	string transaction_id = 2;
	string deposit_bank_account_firstname = 3;
	string deposit_bank_account_lastname = 4;
	string user_id = 5;
	string user_name = 6;
	string payer_bank_account_firstname = 7;
	string payer_bank_account_lastname = 8;
}

message AuditTransactionRequest {
	string transaction_id = 1;
	// audit a transaction "approve" or "deline"
	string audit = 2;
}
